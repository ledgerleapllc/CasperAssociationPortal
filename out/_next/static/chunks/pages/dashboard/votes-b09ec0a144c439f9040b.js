(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9135],{24015:function(e,n,t){"use strict";t.d(n,{a:function(){return s}});var r=t(96156),i=t(85893),o=t(67294),u=t(11163),l=t(49226);var a=t(44791);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var s=function(e,n){return function(t){var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,n=void 0===e?"public":e,t=(0,l.v9)((function(e){return e.authReducer.userInfo}));return(0,o.useEffect)((function(){if("public"!==n&&n&&t)if(t&&null!==t&&void 0!==t&&t.isLoggedIn)if("member"===t.role){if("auth"===n)return"verifying"===t.period&&u.default.push("/verify-email"),"onboarding"===t.period&&u.default.push("/onboard"),void("final"===t.period&&u.default.push("/dashboard"));if("verifying"===n)return"onboarding"===t.period&&u.default.push("/onboard"),void("final"===t.period&&u.default.push("/dashboard"));if("onboarding"===n)return"verifying"===t.period&&u.default.push("/verify-email"),void("final"===t.period&&u.default.push("/dashboard"));if("final-member"===n||"final-all"===n)return"verifying"===t.period&&u.default.push("/verify-email"),void("onboarding"===t.period&&u.default.push("/onboard"));"final-admin"===n&&("verifying"===t.period&&u.default.push("/verify-email"),"onboarding"===t.period&&u.default.push("/onboard"),"final"===t.period&&u.default.push("/dashboard"))}else"admin"===t.role&&"final-all"!==n&&"final-admin"!==n&&u.default.push("/admin/dashboard");else"auth"!==n&&u.default.push("/login")}),[t,n]),{user:t}}({urlType:n}).user;if(n&&"public"!==n){if(!s)return(0,i.jsx)(a.Z,{});if("auth"===n&&s.isLoggedIn)return(0,i.jsx)(a.Z,{});if("auth"!==n&&!s.isLoggedIn)return(0,i.jsx)(a.Z,{});if("member"===s.role){if(["final-all","final-member"].includes(n)&&"final"!==s.period)return(0,i.jsx)(a.Z,{});if(["verifying"].includes(n)&&"verifying"!==s.period)return(0,i.jsx)(a.Z,{});if(["onboarding"].includes(n)&&"onboarding"!==s.period)return(0,i.jsx)(a.Z,{})}if("admin"===s.role&&["verifying","onboarding","final-member"].includes(n))return(0,i.jsx)(a.Z,{})}return(0,i.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t))}}},44791:function(e,n,t){"use strict";var r=t(85893),i=t(733),o=t.n(i);n.Z=function(){return(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-40",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-white opacity-40"}),(0,r.jsx)(o(),{className:"z-50",type:"spinningBubbles",color:"#FF473E",width:100,height:100})]})}},33617:function(e,n,t){"use strict";t.r(n);var r=t(87329),i=t(85893),o=t(87757),u=t.n(o),l=t(92137),a=t(96156),c=t(32465),s=t(67294),d=t(49226),f=t(11163),p=t(29163),h=t(24015),v=t(25955),y=t(28569),j=t(8517),_=t(29586),O=t(64605);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(){var e=(0,c.Z)(["\n  .active-vote-table {\n    .col-1 {\n      width: 40%;\n    }\n    .col-2 {\n      width: 15%;\n    }\n    .col-3 {\n      width: 15%;\n    }\n    .col-4 {\n      width: 15%;\n    }\n    .col-5 {\n      width: 15%;\n    }\n  }\n  .complete-vote-table {\n    .col-1 {\n      width: 55%;\n    }\n    .col-2 {\n      width: 15%;\n    }\n    .col-3 {\n      width: 15%;\n    }\n    .col-4 {\n      width: 15%;\n    }\n  }\n"]);return g=function(){return e},e}var x=p.ZP.div(g()),E=[{content:function(){var e=(0,O.x)(),n=e.data,t=e.register,r=e.hasMore,o=e.appendData,a=e.resetData,c=e.setHasMore,p=e.page,h=e.setPage,v=e.params,b=e.setParams,g=(0,d.I0)(),E=(0,f.useRouter)(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;g((0,j.uM)(S({status:"active",page:e},n),(function(e,n){c(n),o(e),h((function(e){return e+1}))})))};(0,s.useEffect)((function(){m()}),[]);var T=function(){var e=(0,l.Z)(u().mark((function e(n,t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(r={sort_key:n,sort_direction:t}),a(),m(1,r);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,i.jsx)(x,{className:"h-full",children:(0,i.jsxs)(y.iA,S(S({},t),{},{className:"active-vote-table pt-10 h-full",onLoadMore:m,hasMore:r,dataLength:n.length,onSort:T,children:[(0,i.jsxs)(y.iA.Header,{children:[(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Title"})}),(0,i.jsx)(y.iA.HeaderCell,{sortKey:"time_end",children:(0,i.jsx)("p",{children:"Time Remaining"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Votes"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Current Split"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Date"})})]}),(0,i.jsx)(y.iA.Body,{children:n.map((function(e,n){var t,r,o;return(0,i.jsxs)(y.iA.BodyRow,{className:"py-6",selectRowHandler:function(){return n=e.id,void E.push("/dashboard/votes/active/".concat(n));var n},children:[(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{className:"truncate",children:e.title})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)(y.ZF,{endTime:new Date(e.time_end),startTime:new Date(e.created_at)})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{children:null===(t=e.vote)||void 0===t?void 0:t.result_count})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)(y.L3,{splitFor:null===(r=e.vote)||void 0===r?void 0:r.for_value,splitAgainst:null===(o=e.vote)||void 0===o?void 0:o.against_value})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{children:(0,_.p)(e.created_at)})})]},n)}))})]}))})},id:"active_votes",title:"Active Votes"},{content:function(){var e=(0,s.useState)([]),n=e[0],t=e[1],o=(0,s.useState)(!0),u=o[0],l=o[1],a=(0,s.useState)(1),c=a[0],p=a[1],h=(0,d.I0)(),v=(0,f.useRouter)(),O=function(){h((0,j.uM)({status:"finish",page:c},(function(e,n){l(n),t((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),p((function(e){return e+1}))})))};(0,s.useEffect)((function(){O()}),[]);return(0,i.jsx)(x,{className:"h-full",children:(0,i.jsxs)(y.iA,{className:"complete-vote-table pt-10 h-full",onLoadMore:O,hasMore:u,dataLength:n.length,children:[(0,i.jsxs)(y.iA.Header,{children:[(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Title"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Votes"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Results"})}),(0,i.jsx)(y.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Date"})})]}),(0,i.jsx)(y.iA.Body,{children:n.map((function(e,n){var t,r,o;return(0,i.jsxs)(y.iA.BodyRow,{className:"py-6",selectRowHandler:function(){return n=e.id,void v.push("/dashboard/votes/complete/".concat(n));var n},children:[(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{className:"truncate",children:e.title})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{children:null===(t=e.vote)||void 0===t?void 0:t.result_count})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)(y.L3,{splitFor:null===(r=e.vote)||void 0===r?void 0:r.for_value,splitAgainst:null===(o=e.vote)||void 0===o?void 0:o.against_value})}),(0,i.jsx)(y.iA.BodyCell,{children:(0,i.jsx)("p",{children:(0,_.p)(new Date(null===e||void 0===e?void 0:e.time_end))})})]},n)}))})]})})},id:"finished",title:"Finished"}];n.default=(0,h.a)((function(){return(0,i.jsx)(v.Z,{children:(0,i.jsx)(y.Zb,{className:"h-full lg:pl-24 lg:py-20 lg:shadow-2xl",noShadow:!0,children:(0,i.jsx)("div",{className:"w-full h-full",children:(0,i.jsx)(y.OK,{className:"w-full h-full pt-12 lg:pt-0 lg:-mt-7",data:E})})})})}),"final-all")},29586:function(e,n,t){"use strict";t.d(n,{p:function(){return i},e:function(){return o}});var r=t(38661),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",t=new Date(e);return"Invalid Date"===t.toString()?t.toString():(0,r.Z)(t,n)},o=function(e){return e?"".concat(e.substr(0,10),"...").concat(e.substr(-4)):"-"}},8517:function(e,n,t){"use strict";t.d(n,{sp:function(){return r},HA:function(){return i},uM:function(){return o},u0:function(){return u},Dz:function(){return l},M3:function(){return a},eK:function(){return c},wT:function(){return s},Vu:function(){return d},Hp:function(){return f},Pf:function(){return p},j_:function(){return h},E_:function(){return v},XQ:function(){return y},oo:function(){return j},Vk:function(){return _},vv:function(){return O},kO:function(){return b},nn:function(){return S},ob:function(){return g},O7:function(){return x},Gi:function(){return E},pV:function(){return m},_Y:function(){return T},gg:function(){return A}});var r=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS",payload:e}},i=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS_ERROR",payload:e}},o=function(e,n){return{type:"GET_VOTES",payload:e,successCb:n}},u=function(e,n,t){return{type:"GET_VOTE_DETAIL",payload:e,resolve:n,reject:t}},l=function(e){return{type:"GET_VOTE_DETAIL_SUCCESS",payload:e}},a=function(e){return{type:"GET_VOTE_DETAIL_ERROR",payload:e}},c=function(e,n,t){return{type:"RECORD_VOTE",payload:e,resolve:n,reject:t}},s=function(e){return{type:"RECORD_VOTE_SUCCESS",payload:e}},d=function(e){return{type:"RECORD_VOTE_ERROR",payload:e}},f=function(e,n){return{type:"GET_DISCUSSIONS",payload:e,successCb:n}},p=function(e,n,t){return{type:"GET_PINNED_DISCUSSIONS",payload:e,resolve:n,reject:t}},h=function(e,n,t){return{type:"GET_MY_DISCUSSIONS",payload:e,resolve:n,reject:t}},v=function(e,n){return{type:"GET_TRENDING_DISCUSSIONS",payload:e,resolve:n}},y=function(e,n,t){return{type:"GET_DISCUSSION_DETAIL",id:e,resolve:n,reject:t}},j=function(e,n){return{type:"GET_DISCUSSION_COMMENTS",payload:e,resolve:n}},_=function(e){return{type:"SET_DISCUSSION_PIN",id:e}},O=function(e,n,t){return{type:"CREATE_DISCUSSION",payload:e,resolve:n,reject:t}},b=function(e){return{type:"SET_REMOVE_NEW",id:e}},S=function(e,n,t){return{type:"POST_DISCUSSION_COMMENT",payload:e,resolve:n,reject:t}},g=function(e,n){return{type:"VOTE_DISCUSSION",payload:e,successCb:n}},x=function(e,n,t){return{type:"SUBMIT_NODE",payload:e,resolve:n,reject:t}},E=function(e,n,t){return{type:"SUBMIT_DETAIL",payload:e,resolve:n,reject:t}},m=function(e,n,t){return{type:"UPDATE_VERIFICATION_DOCUMENTS",payload:e,resolve:n,reject:t}},T=function(e,n){return{type:"GET_MY_INFO",resolve:e,reject:n}},A=function(e,n,t){return{type:"UPLOAD_AVATAR",payload:e,resolve:n,reject:t}}},15615:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/votes",function(){return t(33617)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,1878,5955],(function(){return n=15615,e(e.s=n);var n}));var n=e.O();_N_E=n}]);