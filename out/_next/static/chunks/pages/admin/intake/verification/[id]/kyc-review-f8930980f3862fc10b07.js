(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[467],{6280:function(e,n,t){"use strict";t.d(n,{e$:function(){return a},t1:function(){return s},sp:function(){return l}});var r=t(85893),i=t(67294),o=function(e){var n=e.onApproveUser,t=e.onResetUser,i=e.onBanUser;return(0,r.jsxs)("div",{className:"py-16 text-center w-96 mx-auto",children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Letter Review"}),(0,r.jsx)("p",{className:"text-xs text-gray mb-8",children:"Please click to review the provided letter and make a decision"}),(0,r.jsxs)("div",{className:"flex gap-2.5 flex-col items-center",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:n,children:"Approve User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:t,children:"Deny & Reset"}),(0,r.jsx)("button",{type:"button",className:"mt-3 text-primary underline",onClick:i,children:"Deny & Ban User"})]})]})},a=function(e){var n=e.description,t=e.onResetUser,o=e.onBack,a=(0,i.useState)(""),s=a[0],l=a[1];return(0,r.jsxs)("div",{className:"py-16 text-center mx-auto",style:{maxWidth:"37.5rem"},children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Reset User"}),(0,r.jsx)("p",{className:"text-xs text-gray pb-5",children:n}),(0,r.jsx)("textarea",{value:s,onChange:function(e){return l(e.target.value)},rows:"6",className:"p-4 w-full border border-gray focus:outline-none"}),(0,r.jsxs)("div",{className:"mt-8 mx-auto w-96 flex gap-2.5 flex-col items-center",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:function(){return t(s)},children:"Reset & Email User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:o,children:"Cancel & Go Back"})]})]})},s=function(e){var n=e.onBanUser,t=e.onBack;return(0,r.jsxs)("div",{className:"text-center mx-auto py-28",style:{maxWidth:"26rem"},children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Ban User"}),(0,r.jsx)("p",{className:"text-xs text-gray",children:"Are you sure? This will change the user to banned status and prevent login."}),(0,r.jsxs)("div",{className:"w-96 flex gap-2.5 flex-col items-center mx-auto mt-8",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:n,children:"Yes, Ban This User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:t,children:"Cancel & Go Back"})]})]})},l=function(e){var n=e.onApproveUser,t=e.onBanUser,l=e.onResetUser,u=(0,i.useState)("approve"),c=u[0],d=u[1];return(0,r.jsxs)(r.Fragment,{children:["approve"===c&&(0,r.jsx)(o,{onApproveUser:n,onResetUser:function(){return d("reset")},onBanUser:function(){return d("ban")}}),"ban"===c&&(0,r.jsx)(s,{onBanUser:t,onBack:function(){return d("approve")}}),"reset"===c&&(0,r.jsx)(a,{description:"This will reset the submit letter step and tell the user through email to submit again for the following reason:",onResetUser:function(e){return l(e)},onBack:function(){return d("approve")}})]})}},24015:function(e,n,t){"use strict";t.d(n,{a:function(){return c}});var r=t(96156),i=t(85893),o=t(67294),a=t(11163),s=t(49226);var l=t(44791);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var c=function(e,n){return function(t){var c=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,n=void 0===e?"public":e,t=(0,s.v9)((function(e){return e.authReducer.userInfo}));return(0,o.useEffect)((function(){if("public"!==n&&n&&t)if(t&&null!==t&&void 0!==t&&t.isLoggedIn)if("member"===t.role){if("auth"===n)return"verifying"===t.period&&a.default.push("/verify-email"),"onboarding"===t.period&&a.default.push("/onboard"),void("final"===t.period&&a.default.push("/dashboard"));if("verifying"===n)return"onboarding"===t.period&&a.default.push("/onboard"),void("final"===t.period&&a.default.push("/dashboard"));if("onboarding"===n)return"verifying"===t.period&&a.default.push("/verify-email"),void("final"===t.period&&a.default.push("/dashboard"));if("final-member"===n||"final-all"===n)return"verifying"===t.period&&a.default.push("/verify-email"),void("onboarding"===t.period&&a.default.push("/onboard"));"final-admin"===n&&("verifying"===t.period&&a.default.push("/verify-email"),"onboarding"===t.period&&a.default.push("/onboard"),"final"===t.period&&a.default.push("/dashboard"))}else"admin"===t.role&&"final-all"!==n&&"final-admin"!==n&&a.default.push("/admin/dashboard");else"auth"!==n&&a.default.push("/login")}),[t,n]),{user:t}}({urlType:n}).user;if(n&&"public"!==n){if(!c)return(0,i.jsx)(l.Z,{});if("auth"===n&&c.isLoggedIn)return(0,i.jsx)(l.Z,{});if("auth"!==n&&!c.isLoggedIn)return(0,i.jsx)(l.Z,{});if("member"===c.role){if(["final-all","final-member"].includes(n)&&"final"!==c.period)return(0,i.jsx)(l.Z,{});if(["verifying"].includes(n)&&"verifying"!==c.period)return(0,i.jsx)(l.Z,{});if(["onboarding"].includes(n)&&"onboarding"!==c.period)return(0,i.jsx)(l.Z,{})}if("admin"===c.role&&["verifying","onboarding","final-member"].includes(n))return(0,i.jsx)(l.Z,{})}return(0,i.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t))}}},93413:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(85893),i=t(32465),o=t(11163),a=t(41664),s=t(29163),l=t(49226),u=t(67294),c=t(24015),d=t(25955),f=t(28569),h=t(4478),p=t(6280),x=function(e){var n=e.onNext;return(0,r.jsxs)("div",{className:"py-40 text-center mx-auto",style:{width:"400px"},children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5 font-medium",children:"Thank you for your reviewing!"}),(0,r.jsx)("p",{className:"text-xs text-gray mb-8",children:"This user is now eligible for a Verification badge. Please activate their Verified status below"}),(0,r.jsx)("div",{className:"mx-auto w-96 flex gap-2.5 flex-col items-center",children:(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:n,children:"Next"})})]})},m=t(87028),b=t(56073);function v(){var e=(0,i.Z)(["\n  .verification-table {\n    width: 68%;\n    & > tr {\n      td {\n        vertical-align: top;\n        padding-bottom: 1.8rem;\n      }\n      &:last-child {\n        td {\n          padding-bottom: 0;\n        }\n      }\n      td:nth-child(1) {\n        width: 30%;\n        font-weight: 500;\n      }\n      td:nth-child(2) {\n        width: 70%;\n      }\n    }\n  }\n"]);return v=function(){return e},e}var g=s.ZP.div(v()),y=(0,c.a)((function(){var e=o.default.query.id,n=(0,h.R)(),t=n.setDialog,i=n.onClosed,s=(0,l.I0)(),c=(0,u.useState)(!1),v=c[0],y=c[1],j=(0,u.useContext)(b.AppContext).setLoading,w=(0,u.useState)(),N=w[0],k=w[1];(0,u.useEffect)((function(){j(!0),s((0,m.y3)({id:e},(function(e){var n;j(!1),k(JSON.parse(null===(n=e.shuftipro)||void 0===n?void 0:n.data))}),(function(){j(!1)})))}),[]);return(0,r.jsx)(d.Z,{children:(0,r.jsx)(f.Zb,{className:"h-full lg:pl-24 lg:py-11 lg:shadow-2xl",noShadow:!0,children:(0,r.jsxs)("div",{className:"w-full h-full",children:[(0,r.jsxs)("div",{className:"card-header lg:mr-24 lg:h-70px",children:[(0,r.jsx)(f.xE,{href:"/admin/intake",text:"Back",force:!0}),(0,r.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"KYC Review"}),(0,r.jsx)("div",{className:"border-primary border-b-2"})]}),(0,r.jsx)("div",{className:"card-body pt-8 pb-28 overflow-y-auto lg:h-100%-70px",children:(0,r.jsxs)("div",{className:"lg:pr-24",children:[(0,r.jsx)("p",{children:"The following was returned from the API provider:"}),(0,r.jsx)(g,{className:"pt-12",children:(0,r.jsxs)("table",{className:"verification-table border-0",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:"Response:"})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:null===N||void 0===N?void 0:N.declined_reason})})]}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"2",children:(0,r.jsx)("span",{className:"font-normal",children:"Please check with the KYC provider regarding why the document was not auto-approved and select an option below"})})})]})}),(0,r.jsxs)("div",{className:"pt-12 actions",children:[(0,r.jsx)(f.zx,{primary:!0,isLoading:v,disabled:v,sizeSpinner:20,onClick:function(){y(!0),s((0,m.O2)({id:e},(function(n){console.log(n),y(!1),t({type:"DialogCustom",data:{content:(0,r.jsx)(x,{onNext:function(){o.default.push("../".concat(e)),i()}})}})}),(function(){y(!1)})))},children:"Approve Manually"}),(0,r.jsxs)("div",{className:"pt-7 flex gap-5",children:[(0,r.jsx)(f.zx,{primaryOutline:!0,onClick:function(){t({type:"DialogCustom",data:{content:(0,r.jsx)(p.t1,{onBanUser:function(){j(!0),s((0,m.cX)({id:e},(function(e){console.log(e),o.default.push("../../"),i(),j(!1)}),(function(){j(!1)})))},onBack:function(){return i()}})}})},children:"Deny & Ban"}),(0,r.jsx)(f.zx,{primaryOutline:!0,onClick:function(){t({type:"DialogCustom",data:{content:(0,r.jsx)(p.e$,{description:"This will reset the AML step and tell the user through email to submit again for the following reason:",onResetUser:function(n){j(!0),s((0,m.J5)({id:e,message:n},(function(e){console.log(e),o.default.push("../../"),i(),j(!1)}),(function(){j(!1)})))},onBack:function(){return i()}})}})},children:"Reset With Reason"}),(0,r.jsx)(a.default,{href:"../".concat(e),children:(0,r.jsx)("a",{children:(0,r.jsx)(f.zx,{primaryOutline:!0,children:"Pause for Now"})})})]})]})]})})]})})})}),"final-admin")},69713:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/intake/verification/[id]/kyc-review",function(){return t(93413)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,9669,3913,1878,5955,5774],(function(){return n=69713,e(e.s=n);var n}));var n=e.O();_N_E=n}]);