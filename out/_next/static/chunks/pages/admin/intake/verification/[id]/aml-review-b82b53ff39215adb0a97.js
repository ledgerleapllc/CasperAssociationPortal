(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{6280:function(e,n,t){"use strict";t.d(n,{e$:function(){return a},t1:function(){return s},sp:function(){return l}});var r=t(85893),i=t(67294),o=function(e){var n=e.onApproveUser,t=e.onResetUser,i=e.onBanUser;return(0,r.jsxs)("div",{className:"py-16 text-center w-96 mx-auto",children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Letter Review"}),(0,r.jsx)("p",{className:"text-xs text-gray mb-8",children:"Please click to review the provided letter and make a decision"}),(0,r.jsxs)("div",{className:"flex gap-2.5 flex-col items-center",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:n,children:"Approve User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:t,children:"Deny & Reset"}),(0,r.jsx)("button",{type:"button",className:"mt-3 text-primary underline",onClick:i,children:"Deny & Ban User"})]})]})},a=function(e){var n=e.description,t=e.onResetUser,o=e.onBack,a=(0,i.useState)(""),s=a[0],l=a[1];return(0,r.jsxs)("div",{className:"py-16 text-center mx-auto",style:{maxWidth:"37.5rem"},children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Reset User"}),(0,r.jsx)("p",{className:"text-xs text-gray pb-5",children:n}),(0,r.jsx)("textarea",{value:s,onChange:function(e){return l(e.target.value)},rows:"6",className:"p-4 w-full border border-gray focus:outline-none"}),(0,r.jsxs)("div",{className:"mt-8 mx-auto w-96 flex gap-2.5 flex-col items-center",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:function(){return t(s)},children:"Reset & Email User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:o,children:"Cancel & Go Back"})]})]})},s=function(e){var n=e.onBanUser,t=e.onBack;return(0,r.jsxs)("div",{className:"text-center mx-auto py-28",style:{maxWidth:"26rem"},children:[(0,r.jsx)("h3",{className:"text-xl text-center mb-2.5",children:"Ban User"}),(0,r.jsx)("p",{className:"text-xs text-gray",children:"Are you sure? This will change the user to banned status and prevent login."}),(0,r.jsxs)("div",{className:"w-96 flex gap-2.5 flex-col items-center mx-auto mt-8",children:[(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-primary h-16 rounded-full bg-white border-2 border-primary shadow-md focus:outline-none hover:bg-primary hover:bg-opacity-40 hover:text-white",onClick:n,children:"Yes, Ban This User"}),(0,r.jsx)("button",{type:"button",className:"w-full text-lg text-white h-16 rounded-full bg-primary shadow-md focus:outline-none hover:opacity-40",onClick:t,children:"Cancel & Go Back"})]})]})},l=function(e){var n=e.onApproveUser,t=e.onBanUser,l=e.onResetUser,u=(0,i.useState)("approve"),d=u[0],c=u[1];return(0,r.jsxs)(r.Fragment,{children:["approve"===d&&(0,r.jsx)(o,{onApproveUser:n,onResetUser:function(){return c("reset")},onBanUser:function(){return c("ban")}}),"ban"===d&&(0,r.jsx)(s,{onBanUser:t,onBack:function(){return c("approve")}}),"reset"===d&&(0,r.jsx)(a,{description:"This will reset the submit letter step and tell the user through email to submit again for the following reason:",onResetUser:function(e){return l(e)},onBack:function(){return c("approve")}})]})}},24015:function(e,n,t){"use strict";t.d(n,{a:function(){return d}});var r=t(96156),i=t(85893),o=t(67294),a=t(11163),s=t(49226);var l=t(44791);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var d=function(e,n){return function(t){var d=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,n=void 0===e?"public":e,t=(0,s.v9)((function(e){return e.authReducer.userInfo}));return(0,o.useEffect)((function(){if("public"!==n&&n&&t)if(t&&null!==t&&void 0!==t&&t.isLoggedIn)if("member"===t.role){if("auth"===n)return"verifying"===t.period&&a.default.push("/verify-email"),"onboarding"===t.period&&a.default.push("/onboard"),void("final"===t.period&&a.default.push("/dashboard"));if("verifying"===n)return"onboarding"===t.period&&a.default.push("/onboard"),void("final"===t.period&&a.default.push("/dashboard"));if("onboarding"===n)return"verifying"===t.period&&a.default.push("/verify-email"),void("final"===t.period&&a.default.push("/dashboard"));if("final-member"===n||"final-all"===n)return"verifying"===t.period&&a.default.push("/verify-email"),void("onboarding"===t.period&&a.default.push("/onboard"));"final-admin"===n&&("verifying"===t.period&&a.default.push("/verify-email"),"onboarding"===t.period&&a.default.push("/onboard"),"final"===t.period&&a.default.push("/dashboard"))}else["admin","sub-admin"].includes(t.role)&&"final-all"!==n&&"final-admin"!==n&&a.default.push("/admin/dashboard");else"auth"!==n&&a.default.push("/login")}),[t,n]),{user:t}}({urlType:n}).user;if(n&&"public"!==n){if(!d)return(0,i.jsx)(l.Z,{});if("auth"===n&&d.isLoggedIn)return(0,i.jsx)(l.Z,{});if("auth"!==n&&!d.isLoggedIn)return(0,i.jsx)(l.Z,{});if("member"===d.role){if(["final-all","final-member"].includes(n)&&"final"!==d.period)return(0,i.jsx)(l.Z,{});if(["verifying"].includes(n)&&"verifying"!==d.period)return(0,i.jsx)(l.Z,{});if(["onboarding"].includes(n)&&"onboarding"!==d.period)return(0,i.jsx)(l.Z,{})}if(["admin","sub-admin"].includes(d.role)&&["verifying","onboarding","final-member"].includes(n))return(0,i.jsx)(l.Z,{})}return(0,i.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t))}}},45825:function(e,n,t){"use strict";t.r(n);var r=t(85893),i=t(32465),o=t(11163),a=t(41664),s=t(29163),l=t(49226),u=t(67294),d=t(24015),c=t(71457),f=t(12245),h=t(4478),p=t(6280),x=t(87028),m=t(97705);function b(){var e=(0,i.Z)(["\n  .verification-table {\n    width: 68%;\n    & > tr {\n      td {\n        vertical-align: top;\n        padding-bottom: 1.8rem;\n      }\n      &:last-child {\n        td {\n          padding-bottom: 0;\n        }\n      }\n      td:nth-child(1) {\n        width: 30%;\n        font-weight: 500;\n      }\n      td:nth-child(2) {\n        width: 70%;\n      }\n    }\n  }\n"]);return b=function(){return e},e}var v=s.ZP.div(b());n.default=(0,d.a)((function(){var e=o.default.query.id,n=(0,h.R)(),t=n.setDialog,i=n.onClosed,s=(0,l.I0)(),d=(0,u.useState)(!1),b=d[0],g=d[1],y=(0,u.useContext)(m.AppContext).setLoading,j=(0,u.useState)(),w=j[0],N=j[1];(0,u.useEffect)((function(){y(!0),s((0,x.y3)({id:e},(function(n){var t;(y(!1),1===n.shuftipro.background_checks_result)?o.default.push("".concat(e,"/kyc-review")):N(JSON.parse(null===(t=n.shuftipro)||void 0===t?void 0:t.data))}),(function(){y(!1)})))}),[]);return(0,r.jsx)(c.Z,{children:(0,r.jsx)(f.Zb,{className:"h-full lg:pl-card lg:py-11 lg:shadow-2xl",noShadow:!0,children:(0,r.jsxs)("div",{className:"w-full h-full",children:[(0,r.jsxs)("div",{className:"card-header lg:mr-card lg:h-70px",children:[(0,r.jsx)(f.xE,{href:"/admin/intake",text:"Back",force:!0}),(0,r.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"AML Review"}),(0,r.jsx)("div",{className:"border-primary border-b-2"})]}),(0,r.jsx)("div",{className:"card-body pt-8 pb-28 overflow-y-auto lg:h-100%-70px",children:(0,r.jsxs)("div",{className:"lg:pr-card",children:[(0,r.jsx)("p",{children:"The following information was provided by the user and checked for KYC and AML:"}),(0,r.jsx)(v,{className:"pt-12",children:(0,r.jsxs)("table",{className:"verification-table border-0",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:"Response:"})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:(null===w||void 0===w?void 0:w.aml_declined_reason)||"Unknown Reason"})})]}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"2",children:(0,r.jsx)("span",{className:"font-normal",children:"Please verify with the user that the flagged account is not them before allowing this person to have a Verified account."})})})]})}),(0,r.jsxs)("div",{className:"pt-12 actions",children:[(0,r.jsx)(f.zx,{primary:!0,isLoading:b,disabled:b,sizeSpinner:20,onClick:function(){g(!0),s((0,x.Nk)({id:e},(function(n){o.default.push("../".concat(e,"/kyc-review")),g(!1)}),(function(){g(!1)})))},children:"Approve Manually"}),(0,r.jsxs)("div",{className:"pt-7 flex gap-5",children:[(0,r.jsx)(f.zx,{primaryOutline:!0,onClick:function(){t({type:"DialogCustom",data:{content:(0,r.jsx)(p.t1,{onBanUser:function(){y(!0),s((0,x.cX)({id:e},(function(e){o.default.push("../../"),i(),y(!1)}),(function(){y(!1)})))},onBack:function(){return i()}})}})},children:"Deny & Ban"}),(0,r.jsx)(f.zx,{primaryOutline:!0,onClick:function(){t({type:"DialogCustom",data:{content:(0,r.jsx)(p.e$,{description:"This will reset the AML step and tell the user through email to submit again for the following reason:",onResetUser:function(n){y(!0),s((0,x.Xs)({id:e,message:n},(function(e){o.default.push("../../"),i(),y(!1)}),(function(){y(!1)})))},onBack:function(){return i()}})}})},children:"Reset With Reason"}),(0,r.jsx)(a.default,{href:"../".concat(e),children:(0,r.jsx)("a",{children:(0,r.jsx)(f.zx,{primaryOutline:!0,children:"Pause for Now"})})})]})]})]})})]})})})}),"final-admin")},94389:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/intake/verification/[id]/aml-review",function(){return t(45825)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,1045,1457,8216],(function(){return n=94389,e(e.s=n);var n}));var n=e.O();_N_E=n}]);